{% extends 'base.html.twig' %}

{% block body %}

{# <style>


.containeur {
  position: relative;
  width: 100%;
  max-width: 400px;
}

.image {
  display: block;
  width: 100%;
  height: auto;
}

.overlay {
  display: flex;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  height: 100%;
  width: 100%;
  opacity: 1;
}

.icon-bin {
  position: absolute;
  top: 2%;
  left: 90%;
}

.icon-pencil {
  position: absolute;
  top: 2%;
  left: 80%;
}

</style>

<div class="containeur">
  <div class="image" style="height: 600px; width:100%; background-image: url('{{ figure.headVisual }}'); background-repeat: no-repeat; background-size: cover;"></div>
  <div class="overlay">
    <div class="col-1 icon-pencil" style:"padding:0px;">
        <a href="{{ path('tricks_edit', {'slug': figure.slug}) }}"><i class="fa fa-pencil" style="font-size:18px"></i></a>
    </div>
    <div class="col-1 icon-bin" style:"padding:0px;">
        <a onclick="return confirm('Êtes vous sur de vouloir supprimer la figure?'" href="{{ path('tricks_delete', {'slug': figure.slug}) }}")><i class="fa fa-trash-o" style="font-size:20px"></i></a>
    </div>
  </div>
</div> #}





<style>


.containeur {
  position: relative;
  width: 100%;
}

.image {
  display: block;
  width: 100%;
  height: auto;
}

.overlay {
  display: flex;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  height: 100%;
  width: 100%;
  opacity: 1;
}

.icon-bin {
  position: absolute;
  top: 3%;
  left: 96%;
}

.icon-pencil {
  position: absolute;
  top: 3%;
  left: 92%;
}

</style>



<article>
    <section class="row containeur" style="display:flex; flex-direction:row; justify-content:flex-end;">
        <div class="col-12" style=" padding:0px 0px 0px 0px; justify-content:flex-start;">
                <div class="image" style="height: 600px; width:100%; background-image: url('{{ figure.headVisual }}'); background-repeat: no-repeat; background-size: cover;"></div>
                {# <img style="max-height: 700px; width:100%; margin-bottom:10px;" src="{{ figure.headVisual }}"> #}
            <div class="row overlay" style="display: flex; justify-content:flex-end;">
                {# <div class="col-6 offset-6"  style="display: flex; justify-content: flex-end; border-radius:2px; box-shadow: 1px 1px 5px;"> #}
                    <div class="col-1 icon-pencil" style:"padding:0px;">
                        <a href="{{ path('tricks_edit', {'slug': figure.slug}) }}"><i class="fa fa-pencil" style="font-size:18px; box-shadow: 1px 1px 5px black;"></i></a>
                    </div>
                    <div class="col-1 icon-bin" style:"padding:0px;">
                        <a onclick="return confirm('Êtes vous sur de vouloir supprimer la figure?'" href="{{ path('tricks_delete', {'slug': figure.slug}) }}")><i class="fa fa-trash-o" style="font-size:20px; box-shadow: 1px 1px 5px black;"></i></a>
                    </div>
                {# </div> #}
            </div>
        </div>
    </section>

    <section style="display:flex; flex-wrap: wrap; flex-direction:row; justify-content:space-around; align-items: center; line-height:5px; margin-top: 15px;">
        {% for visual in figure.visuals | slice(0, 10) %}
        <div>
            {% if visual.visualKind == '1' %}
                <iframe style="margin-top:5px;" width="178" height="100" src="{{ visual.url }}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                
                <div class="col-6 offset-6" style="display: flex; justify-content: flex-end; border-radius:2px; box-shadow: 1px 1px 5px; margin-top:5px;">
                    <div class="col-1" style:"padding:0px;">
                        <a href="{{ path('tricks_edit', {'slug': figure.slug}) }}"><i class="fa fa-pencil" style="font-size:18px"></i></a>
                    </div>
                    <div class="col-1" style:"padding:0px;">
                        <a onclick="return confirm('Êtes vous sur de vouloir supprimer la figure?')" href="{{ path('tricks_delete', {'slug': figure.slug}) }}")><i class="fa fa-trash-o" style="font-size:20px"></i></a>
                    </div>
                </div>
            {% else %}
                <a href="{{ visual.url }}">
                    <img style="width: 178px; height: 100px; margin:0px 0px 10px 0px;" src="{{ visual.url }}" alt="">
                </a>

                <div class="col-6 offset-6"  style="display: flex; justify-content: flex-end; border-radius:2px; box-shadow: 1px 1px 5px;">
                    <div class="col-1" style:"padding:0px;">
                        <a href="{{ path('tricks_edit', {'slug': figure.slug}) }}"><i class="fa fa-pencil" style="font-size:18px"></i></a>
                    </div>
                    <div class="col-1" style:"padding:0px;">
                        <a onclick="return confirm('Êtes vous sur de vouloir supprimer la figure?'" href="{{ path('tricks_delete', {'slug': figure.slug}) }}")><i class="fa fa-trash-o" style="font-size:20px"></i></a>
                    </div>
                </div>
            {% endif %}
        </div>
        {% endfor %}
    </section>

    <h2>{{ figure.title}}</h2>
    <div class="content">
        {{ figure.content|raw }}
        <h4 class="text-center">
          <span title="Date de création" data-toggle="popover" data-trigger="hover" class="badge badge-success">{{ figure.createdAt | date('d/m/Y') }} <small> à {{ figure.createdAt | date('H:i') }}</small></span>
          <span title="Catégorie" data-toggle="popover" data-trigger="hover" class="badge badge-success">{{ figure.category.name }}</span>
          {% if figure.modifiedAt %}
            <span title="Date de modification" data-toggle="popover" data-trigger="hover" class="badge badge-success">{{ figure.modifiedAt | date('d/m/Y') }} <small> à {{ figure.modifiedAt | date('H:i') }}</small></span>
          {% endif %}
        </h4>
    </div>

</article>
<hr>
    <p class="text-center"><input type="text"> &nbsp;&nbsp;<button type="button" class="btn btn-primary">Laisser un commentaire</button></p>
<hr>
<section>
{# {% if comment %} #}
    {% for comment in figure.comments %}
    <div class="container" style="display:flex;">
        <div class="row">
            <div class="col-2" style="display:flex; justify-content: space-around; align-items: center;">
                <span title="{{ comment.author }}" data-toggle="popover" data-trigger="hover"><i class="fa fa-user-circle" style="font-size:36px"></i></span>
            </div>
            <div class="col-10" style="margin-bottom:10px ; border: 2px dashed #31A5E7">
                {{ comment.content|raw }}
            </div>
        </div>
    </div>
    {% endfor %}
{# {% endif %} #}
</section>
    
{% endblock %}